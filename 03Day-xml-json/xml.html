<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XML HTTP Request</title>
</head>
<body>
    <script>
        //step 1 :
        // create a XHR object
        //to interact with the server via API
        // new keyword
        // request is userdefined
        var request=new XMLHttpRequest()

        //step 2:opening an connection
        //3 parameters
        //http method=>GET
        //url=>https://restcountries.com/v3.1/all
        //true/false=>optional parmeter
        request.open('GET',"https://restcountries.com/v3.1/all")

        //step 3:
        // sending the connection
        //initiatiing a bridge
        request.send();

        //step 4:
        //server response
        //whenever a page loaded you give me data
        //event
        //whenever an event is triggered an action is performed
        //onload=> global event
        //function=> anonymous function

        request.onload=function(){
        //  console.log(1)  
        // console.log(request.response)// string
        // server response=> string
        // string to object
        //JSON.parse
        // console.log(JSON.parse(request.response)) 
        var countriesData =JSON.parse(request.response)
        console.log(countriesData)
        console.log(countriesData.length)
        console.log(countriesData[0].area)

        for(var i=0;i<countriesData.length;i++){
            // console.log(countriesData[i].name.common)
            console.log("CountryName-"+countriesData[i].name.common+" Area-"+countriesData[i].area)
        }

        }

       

    </script>
</body>
</html>